=====================================================================
22.07.2022 14:33:16
Task #33905376
Task contextru.ubs.ssbs.exchange.TaskContext@422fd29b[
springServiceName=billingService,
springServiceMethodName=deleteContractBillingTask,
taskManager=ru.ubs.ssbs.exchange.TaskManagerByMethods,
threadCount=1,
taskState=WORK,
message=,
exchangeFormatId=62,
userTaskId=33905376,
rangeCount=10,
rangeStart=0,
organisationDatasourceSchema=ssbs-40211,
inputParameters=ru.ubs.ssbs.billing.ContractBillingTaskCriteria@46eb58e5,
goodCount=0,
skipCount=0,
failedCount=1]
=====================================================================
Невозможно удалить расчет из закрытого периода

java.lang.Exception: Невозможно удалить расчет из закрытого периода
	at ru.ubs.ssbs.billing.BillingServiceImpl.deleteContractBillingTaskHelper(BillingServiceImpl.java:444)
	at ru.ubs.ssbs.billing.BillingServiceImpl$1.onId(BillingServiceImpl.java:72)
	at ru.ubs.ssbs.billing.BillingServiceImpl$1.onId(BillingServiceImpl.java:65)
	at ru.ubs.ssbs.exchange.reports.ReaderIds.read(ReaderIds.java:43)
	at ru.ubs.ssbs.exchange.reports.ReaderIds.read(ReaderIds.java:33)
	at ru.ubs.ssbs.billing.BillingServiceImpl.handleDeleteContractBillingTask(BillingServiceImpl.java:85)
	at ru.ubs.ssbs.billing.BillingServiceBase.deleteContractBillingTask(BillingServiceBase.java:781)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:283)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at jdk.proxy2/jdk.proxy2.$Proxy258.deleteContractBillingTask(Unknown Source)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at ru.ubs.utils.ObjectUtils.invokeMethod(ObjectUtils.java:384)
	at ru.ubs.ssbs.exchange.TaskServiceImpl.evaluateCurrentContextMethod(TaskServiceImpl.java:816)
	at ru.ubs.ssbs.exchange.TaskServiceImpl.executeBySingleThreadContext(TaskServiceImpl.java:851)
	at ru.ubs.ssbs.exchange.TaskServiceImpl.lambda$executeByThreadContext$36(TaskServiceImpl.java:740)
	at ru.ubs.ssbs.utils.TransactionUtils.inTransaction(TransactionUtils.java:23)
	at ru.ubs.ssbs.exchange.TaskServiceImpl.lambda$executeByThreadContext$39(TaskServiceImpl.java:738)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
